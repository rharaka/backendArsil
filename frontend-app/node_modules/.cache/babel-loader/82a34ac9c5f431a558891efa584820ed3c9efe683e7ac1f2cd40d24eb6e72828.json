{"ast":null,"code":"import axios from '@/axios';\nexport default {\n  mounted() {\n    this.listShipments();\n  },\n  data() {\n    console.log(\"START 1\");\n    console.log(\"END 1\");\n    return {\n      userID: \"\",\n      userShipments: {}\n    };\n  },\n  methods: {\n    async listShipments() {\n      console.log(\"START 2\");\n      const user = await axios.get(\"http://localhost:8000/api/user\", {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      this.userID = user.data.id;\n      const payload = {\n        ID_USER: this.userID\n      };\n      const headers = {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      };\n      this.userShipments = await axios.post(\"/shipments-by-user\", payload, {\n        headers\n      });\n      this.userShipments = JSON.stringify(this.userShipments);\n      console.log(this.userID, this.userShipments.data);\n      console.log(\"END 2\");\n    }\n    //     validateInput() {\n    //         const errors = {};\n    //         if(!this.senderCode) errors.senderCode = 'The Sender Zip Code is required!';\n    //         if(!this.receiverCode) errors.receiverCode = 'The Receiver Zip Code is required!';\n    //         if(!this.weight) errors.weight = 'The Weight is required!';\n    //         if(!this.length) errors.length = 'The Length is required!';\n    //         if(!this.width) errors.width = 'The Width is required!';\n    //         if(!this.height) errors.height = 'The Height is required!';\n    //         return errors;\n    //     },\n    //     async addShipment() {\n    //         const errors = this.validateInput();\n    //         const currentDate = new Date().setDate(new Date().getMinutes());\n    //         var userID = null;\n    //         if(Object.keys(errors).length > 0) {\n    //             this.errors = errors;\n    //             return;\n    //         }\n    //         try {\n    //             if(localStorage.getItem('token')) {\n    //                 if(currentDate > localStorage.getItem('tokenExpireAt')) {\n    //                     localStorage.removeItem('token');\n    //                     localStorage.removeItem('tokenExpireAt');\n    //                     this.$router.push('/login');\n    //                 }\n    //                 else {\n    //                     const user = await axios.get(\"http://localhost:8000/api/user\", {\n    //                         headers: {\n    //                             'Authorization': `Bearer ${localStorage.getItem('token')}`\n    //                         }\n    //                     });\n    //                     userID = user.data.id;\n    //                     console.log(\"userID\", userID);\n    //                 }\n    //             }\n    //             const response = await axios.post(\"/insert-shipment\", {\n    //                 SENDER_CODE: this.senderCode,\n    //                 RECEIVER_CODE: this.receiverCode,\n    //                 DETAILS: JSON.stringify({\n    //                     weight: this.weight,\n    //                     length: this.length,\n    //                     width: this.width,\n    //                     height: this.height,\n    //                     volume: (this.length * this.width * this.height) / 5000\n    //                 }),\n    //                 ID_USER: userID\n    //             });\n    //             if(userID) {\n    //                 const payload = { ID_USER: userID };\n    //                 const headers = { 'Authorization': `Bearer ${localStorage.getItem('token')}` };\n    //                 const userShipments = await axios.post(\"/shipments-by-user\", payload, { headers });\n    //                 console.log(userShipments);\n    //                 this.$router.push({name: 'myShipments', params: { userShipments: userShipments, userID: userID }});\n\n    //             }\n    //             else \n    //                 this.$router.push('/');\n    //         }\n    //         catch(error) {\n    //             console.error(\"An error occurred during the insert shipment: \", error);\n    //         }\n    //     }\n  }\n};","map":{"version":3,"names":["axios","mounted","listShipments","data","console","log","userID","userShipments","methods","user","get","headers","localStorage","getItem","id","payload","ID_USER","post","JSON","stringify"],"sources":["/Applications/MAMP/htdocs/laravel/arsil-11/frontend/src/components/myShipments.vue"],"sourcesContent":["<template>\n    <h1>My Shipments</h1>\n    <div>{{ this.userID }}</div>\n    {{ this.userShipments.data }}\n</template>\n\n<script>\nimport axios from '@/axios';\n\nexport default {\n    mounted() {\n        this.listShipments();\n    },\n    data() {\n        console.log(\"START 1\");\n        console.log(\"END 1\");\n        return {\n            userID: \"\",\n            userShipments: {}\n        }\n    },\n    methods: {\n        async listShipments() {\n            console.log(\"START 2\");\n            const user = await axios.get(\"http://localhost:8000/api/user\", {\n                headers: {\n                    'Authorization': `Bearer ${localStorage.getItem('token')}`\n                }\n            });\n            this.userID = user.data.id;\n            const payload = { ID_USER: this.userID };\n            const headers = { 'Authorization': `Bearer ${localStorage.getItem('token')}` };\n            this.userShipments = await axios.post(\"/shipments-by-user\", payload, { headers });\n            this.userShipments = JSON.stringify(this.userShipments);\n            console.log(this.userID, this.userShipments.data);\n            console.log(\"END 2\");\n        }\n    //     validateInput() {\n    //         const errors = {};\n    //         if(!this.senderCode) errors.senderCode = 'The Sender Zip Code is required!';\n    //         if(!this.receiverCode) errors.receiverCode = 'The Receiver Zip Code is required!';\n    //         if(!this.weight) errors.weight = 'The Weight is required!';\n    //         if(!this.length) errors.length = 'The Length is required!';\n    //         if(!this.width) errors.width = 'The Width is required!';\n    //         if(!this.height) errors.height = 'The Height is required!';\n    //         return errors;\n    //     },\n    //     async addShipment() {\n    //         const errors = this.validateInput();\n    //         const currentDate = new Date().setDate(new Date().getMinutes());\n    //         var userID = null;\n    //         if(Object.keys(errors).length > 0) {\n    //             this.errors = errors;\n    //             return;\n    //         }\n    //         try {\n    //             if(localStorage.getItem('token')) {\n    //                 if(currentDate > localStorage.getItem('tokenExpireAt')) {\n    //                     localStorage.removeItem('token');\n    //                     localStorage.removeItem('tokenExpireAt');\n    //                     this.$router.push('/login');\n    //                 }\n    //                 else {\n    //                     const user = await axios.get(\"http://localhost:8000/api/user\", {\n    //                         headers: {\n    //                             'Authorization': `Bearer ${localStorage.getItem('token')}`\n    //                         }\n    //                     });\n    //                     userID = user.data.id;\n    //                     console.log(\"userID\", userID);\n    //                 }\n    //             }\n    //             const response = await axios.post(\"/insert-shipment\", {\n    //                 SENDER_CODE: this.senderCode,\n    //                 RECEIVER_CODE: this.receiverCode,\n    //                 DETAILS: JSON.stringify({\n    //                     weight: this.weight,\n    //                     length: this.length,\n    //                     width: this.width,\n    //                     height: this.height,\n    //                     volume: (this.length * this.width * this.height) / 5000\n    //                 }),\n    //                 ID_USER: userID\n    //             });\n    //             if(userID) {\n    //                 const payload = { ID_USER: userID };\n    //                 const headers = { 'Authorization': `Bearer ${localStorage.getItem('token')}` };\n    //                 const userShipments = await axios.post(\"/shipments-by-user\", payload, { headers });\n    //                 console.log(userShipments);\n    //                 this.$router.push({name: 'myShipments', params: { userShipments: userShipments, userID: userID }});\n                    \n    //             }\n    //             else \n    //                 this.$router.push('/');\n    //         }\n    //         catch(error) {\n    //             console.error(\"An error occurred during the insert shipment: \", error);\n    //         }\n    //     }\n    }\n}\n</script>"],"mappings":"AAOA,OAAOA,KAAI,MAAO,SAAS;AAE3B,eAAe;EACXC,OAAOA,CAAA,EAAG;IACN,IAAI,CAACC,aAAa,CAAC,CAAC;EACxB,CAAC;EACDC,IAAIA,CAAA,EAAG;IACHC,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;IACtBD,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;IACpB,OAAO;MACHC,MAAM,EAAE,EAAE;MACVC,aAAa,EAAE,CAAC;IACpB;EACJ,CAAC;EACDC,OAAO,EAAE;IACL,MAAMN,aAAaA,CAAA,EAAG;MAClBE,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;MACtB,MAAMI,IAAG,GAAI,MAAMT,KAAK,CAACU,GAAG,CAAC,gCAAgC,EAAE;QAC3DC,OAAO,EAAE;UACL,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC5D;MACJ,CAAC,CAAC;MACF,IAAI,CAACP,MAAK,GAAIG,IAAI,CAACN,IAAI,CAACW,EAAE;MAC1B,MAAMC,OAAM,GAAI;QAAEC,OAAO,EAAE,IAAI,CAACV;MAAO,CAAC;MACxC,MAAMK,OAAM,GAAI;QAAE,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAAG,CAAC;MAC9E,IAAI,CAACN,aAAY,GAAI,MAAMP,KAAK,CAACiB,IAAI,CAAC,oBAAoB,EAAEF,OAAO,EAAE;QAAEJ;MAAQ,CAAC,CAAC;MACjF,IAAI,CAACJ,aAAY,GAAIW,IAAI,CAACC,SAAS,CAAC,IAAI,CAACZ,aAAa,CAAC;MACvDH,OAAO,CAACC,GAAG,CAAC,IAAI,CAACC,MAAM,EAAE,IAAI,CAACC,aAAa,CAACJ,IAAI,CAAC;MACjDC,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;IACxB;IACJ;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACA;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}