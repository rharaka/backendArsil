(function(){"use strict";var __webpack_modules__={1563:function(e,r,t){var s=t(3751),o=t(641);const i={id:"app"};function n(e,r,t,s,n,a){const l=(0,o.g2)("Navbar"),d=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(l),(0,o.Lk)("div",i,[(0,o.bF)(d)])],64)}function a(e,r,t,s,i,n){const a=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("nav",null,[(0,o.bF)(a,{to:"/add-shipment"},{default:(0,o.k6)(()=>[...r[1]||(r[1]=[(0,o.eW)("Ship it",-1)])]),_:1}),e.isLoggedIn?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(a,{key:0,to:"/login"},{default:(0,o.k6)(()=>[...r[2]||(r[2]=[(0,o.eW)("Login",-1)])]),_:1})),e.isLoggedIn?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(a,{key:1,to:"/register"},{default:(0,o.k6)(()=>[...r[3]||(r[3]=[(0,o.eW)("Register",-1)])]),_:1})),e.isLoggedIn?((0,o.uX)(),(0,o.Wv)(a,{key:2,to:"/my-shipments"},{default:(0,o.k6)(()=>[...r[4]||(r[4]=[(0,o.eW)("My Shipments",-1)])]),_:1})):(0,o.Q3)("",!0),e.isLoggedIn?((0,o.uX)(),(0,o.CE)("a",{key:3,href:"#",onClick:r[0]||(r[0]=(...r)=>e.logout&&e.logout(...r))},"Logout")):(0,o.Q3)("",!0)])}var l=t(6278),d={computed:{...(0,l.aH)(["isLoggedIn"])},methods:{...(0,l.i0)(["logout"])}},c=t(6262);const u=(0,c.A)(d,[["render",a]]);var h=u,p={name:"App",components:{Navbar:h}};const m=(0,c.A)(p,[["render",n]]);var _=m,v=(t(4114),t(5220));const k={class:"form-container"};function E(e,r,t,i,n,a){return(0,o.uX)(),(0,o.CE)(o.FK,null,[r[4]||(r[4]=(0,o.Lk)("h1",null,"Login Page",-1)),(0,o.Lk)("div",k,[(0,o.Lk)("form",{onSubmit:r[2]||(r[2]=(0,s.D$)((...e)=>a.login&&a.login(...e),["prevent"])),class:"login-form"},[(0,o.bo)((0,o.Lk)("input",{type:"email","onUpdate:modelValue":r[0]||(r[0]=e=>n.email=e),placeholder:"Email",required:""},null,512),[[s.Jo,n.email]]),(0,o.bo)((0,o.Lk)("input",{type:"password","onUpdate:modelValue":r[1]||(r[1]=e=>n.password=e),placeholder:"Password",required:""},null,512),[[s.Jo,n.password]]),r[3]||(r[3]=(0,o.Lk)("button",{type:"submit"},"Login",-1))],32)])],64)}var g=t(3173),C={data(){return{email:"",password:""}},methods:{async login(){try{const e=(new Date).setDate((new Date).getMinutes()+1560),r=await g.A.post("/login",{email:this.email,password:this.password,expireDate:e});r.data.token&&(localStorage.setItem("token",r.data.token),localStorage.setItem("tokenExpireAt",e)),console.log("response from /login request",r),this.$store.commit("LOGIN"),this.$router.push("/")}catch(e){console.log("An error occurred during the login: ",e.response.data)}}}};const L=(0,c.A)(C,[["render",E]]);var b=L;function S(e,r,t,s,o,i){return null}var R={mounted(){this.logoutUser()},data(){return{user:{}}},methods:{async logoutUser(){console.error("START logout method function Logout.vue Componenet");try{const e=await g.A.get("https://arsil-backend-anzxy.sevalla.app/api/user",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),r={user:e},t={Authorization:`Bearer ${localStorage.getItem("token")}`},s=await g.A.post("/logout",r,{headers:t});console.log(s)}catch(e){console.error("An error occurred during the logout: ",e.response.data)}}}};const y=(0,c.A)(R,[["render",S]]);var I=y;const N={class:"form-container"};function f(e,r,t,i,n,a){return(0,o.uX)(),(0,o.CE)(o.FK,null,[r[6]||(r[6]=(0,o.Lk)("h1",null,"Register Page",-1)),(0,o.Lk)("div",N,[(0,o.Lk)("form",{onSubmit:r[4]||(r[4]=(0,s.D$)((...e)=>a.register&&a.register(...e),["prevent"])),class:"register-form"},[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=e=>n.name=e),placeholder:"Name",required:""},null,512),[[s.Jo,n.name]]),(0,o.bo)((0,o.Lk)("input",{type:"email","onUpdate:modelValue":r[1]||(r[1]=e=>n.email=e),placeholder:"Email",required:""},null,512),[[s.Jo,n.email]]),(0,o.bo)((0,o.Lk)("input",{type:"password","onUpdate:modelValue":r[2]||(r[2]=e=>n.password=e),placeholder:"Password",required:""},null,512),[[s.Jo,n.password]]),(0,o.bo)((0,o.Lk)("input",{type:"password","onUpdate:modelValue":r[3]||(r[3]=e=>n.confirmPassword=e),placeholder:"Confirm Password",required:""},null,512),[[s.Jo,n.confirmPassword]]),r[5]||(r[5]=(0,o.Lk)("button",{type:"submit"},"Register",-1))],32)])],64)}var w={data(){return{name:"",email:"",password:"",confirmPassword:"",role:"0"}},methods:{async register(){try{const e=await g.A.post("/register",{name:this.name,email:this.email,password:this.password,role:"0"});e.data.token&&localStorage.setItem("token",e.data.token),this.$router.push("/Login")}catch(e){console.error("An error occurred during the registration: ",e.response.data)}}}};const P=(0,c.A)(w,[["render",f]]);var D=P,O=t(33);const A={key:0},T={class:"form-container"},U={class:"ship-codes-container"},q={class:"selected-codes"},V={id:"slectedSenderCode"},F={id:"slectedReceiverCode"},x={class:"group-codes"},X={key:0,class:"errors"},$={class:"codes-select-sender"},M={key:0,class:"codes"},W=["onClick"],B={class:"code-text"},Q={key:1,class:"codes empty"},J={class:"code"},z={class:"code-text"},K={key:0,class:"errors"},Y={class:"codes-select-receiver"},j={key:0,class:"codes"},H=["onClick"],Z={class:"code-text"},G={key:1,class:"codes empty"},ee={class:"code"},re={class:"code-text"},te={key:0,class:"errors"},se={key:1,class:"errors"},oe={key:2,class:"errors"},ie={key:3,class:"errors"},ne={type:"submit"},ae={key:1},le={class:"container"},de={class:"row"},ce={class:"col-md-4"},ue=["onSubmit"],he=["onUpdate:modelValue"],pe=["onUpdate:modelValue"];function me(e,r,t,i,n,a){return(0,o.uX)(),(0,o.CE)(o.FK,null,[r[14]||(r[14]=(0,o.Lk)("h1",null,"Add Shipment",-1)),n.courierSelected?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",A,[(0,o.Lk)("div",T,[(0,o.Lk)("form",{onSubmit:r[11]||(r[11]=(0,s.D$)((...e)=>a.getMinPrice&&a.getMinPrice(...e),["prevent"])),class:"add-shipment-form"},[(0,o.Lk)("div",U,[(0,o.Lk)("div",q,[(0,o.Lk)("span",V,(0,O.v_)(n.selectedCodeSender),1),(0,o.Lk)("span",F,(0,O.v_)(n.selectedCodeReceiver),1)]),(0,o.Lk)("div",x,[(0,o.Lk)("div",null,[(0,o.bo)((0,o.Lk)("input",{class:"input-field",type:"text",onClick:r[0]||(r[0]=e=>a.filterByCode("sender")),onKeyup:r[1]||(r[1]=e=>a.filterByCode("sender")),"onUpdate:modelValue":r[2]||(r[2]=e=>n.senderCode=e),placeholder:"Sender Zip Code",required:""},null,544),[[s.Jo,n.senderCode]]),n.errors.senderCode?((0,o.uX)(),(0,o.CE)("p",X,(0,O.v_)(n.errors.senderCode),1)):(0,o.Q3)("",!0),(0,o.bF)(s.eB,{name:"slide-fade"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",$,[n.codesFoundSender.length>0&&n.codesFoundSender[0].id>0?((0,o.uX)(),(0,o.CE)("div",M,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.codesFoundSender,e=>((0,o.uX)(),(0,o.CE)("div",{class:"code",key:e.id,onClick:r=>a.zipCodeUpdate("sender",e.CODE,e.CITY,e.PROVINCE)},[(0,o.Lk)("span",B,(0,O.v_)(e.CODE)+" "+(0,O.v_)(e.CITY)+" ("+(0,O.v_)(e.PROVINCE)+")",1)],8,W))),128))])):(0,o.Q3)("",!0),n.codesFoundSender.length>0&&void 0===n.codesFoundSender[0].id?((0,o.uX)(),(0,o.CE)("div",Q,[(0,o.Lk)("div",J,[(0,o.Lk)("span",z,(0,O.v_)(n.codesFoundSender[0]),1)])])):(0,o.Q3)("",!0)])]),_:1})]),(0,o.Lk)("div",{class:"button-reverse",onClick:r[3]||(r[3]=(...e)=>a.reverseZipCodes&&a.reverseZipCodes(...e))},"(X)"),(0,o.Lk)("div",null,[(0,o.bo)((0,o.Lk)("input",{class:"input-field receiver-code",type:"text",onClick:r[4]||(r[4]=e=>a.filterByCode("receiver")),onKeyup:r[5]||(r[5]=e=>a.filterByCode("receiver")),"onUpdate:modelValue":r[6]||(r[6]=e=>n.receiverCode=e),placeholder:"Receiver Zip Code",required:""},null,544),[[s.Jo,n.receiverCode]]),n.errors.receiverCode?((0,o.uX)(),(0,o.CE)("p",K,(0,O.v_)(n.errors.receiverCode),1)):(0,o.Q3)("",!0),(0,o.bF)(s.eB,{name:"slide-fade"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",Y,[n.codesFoundReceiver.length>0&&n.codesFoundReceiver[0].id>0?((0,o.uX)(),(0,o.CE)("div",j,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.codesFoundReceiver,e=>((0,o.uX)(),(0,o.CE)("div",{class:"code",key:e.id,onClick:r=>a.zipCodeUpdate("receiver",e.CODE,e.CITY,e.PROVINCE)},[(0,o.Lk)("span",Z,(0,O.v_)(e.CODE)+" "+(0,O.v_)(e.CITY)+" ("+(0,O.v_)(e.PROVINCE)+")",1)],8,H))),128))])):(0,o.Q3)("",!0),n.codesFoundReceiver.length>0&&void 0===n.codesFoundReceiver[0].id?((0,o.uX)(),(0,o.CE)("div",G,[(0,o.Lk)("div",ee,[(0,o.Lk)("span",re,(0,O.v_)(n.codesFoundReceiver[0]),1)])])):(0,o.Q3)("",!0)])]),_:1})])])]),(0,o.bo)((0,o.Lk)("input",{class:"input-field",type:"number","onUpdate:modelValue":r[7]||(r[7]=e=>n.weight=e),placeholder:"Weight in kg",required:""},null,512),[[s.Jo,n.weight]]),n.errors.weight?((0,o.uX)(),(0,o.CE)("p",te,(0,O.v_)(n.errors.weight),1)):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{class:"input-field",type:"number","onUpdate:modelValue":r[8]||(r[8]=e=>n.length=e),placeholder:"Length in cm",required:""},null,512),[[s.Jo,n.length]]),n.errors.length?((0,o.uX)(),(0,o.CE)("p",se,(0,O.v_)(n.errors.length),1)):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{class:"input-field",type:"number","onUpdate:modelValue":r[9]||(r[9]=e=>n.width=e),placeholder:"Width in cm",required:""},null,512),[[s.Jo,n.width]]),n.errors.width?((0,o.uX)(),(0,o.CE)("p",oe,(0,O.v_)(n.errors.width),1)):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{class:"input-field",type:"number","onUpdate:modelValue":r[10]||(r[10]=e=>n.height=e),placeholder:"Height in cm",required:""},null,512),[[s.Jo,n.height]]),n.errors.height?((0,o.uX)(),(0,o.CE)("p",ie,(0,O.v_)(n.errors.height),1)):(0,o.Q3)("",!0),(0,o.Lk)("button",ne,"Ship"+(0,O.v_)(n.minPriceText),1)],32)])])),n.courierSelected?((0,o.uX)(),(0,o.CE)("div",ae,[r[13]||(r[13]=(0,o.Lk)("h2",null,"List Couriers",-1)),(0,o.Lk)("div",le,[(0,o.Lk)("div",de,[(0,o.Lk)("div",ce,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.listCouries,e=>((0,o.uX)(),(0,o.CE)("ul",{class:"well",key:e.id},[(0,o.Lk)("li",null,[(0,o.Lk)("form",{onSubmit:(0,s.D$)(r=>a.addShipment(e.PRICE,e.COURIER),["prevent"]),class:"add-shipment-form"},[(0,o.Lk)("span",null,(0,O.v_)(e.COURIER),1),(0,o.Lk)("span",null,"$ "+(0,O.v_)(e.PRICE),1),(0,o.bo)((0,o.Lk)("input",{type:"hidden","onUpdate:modelValue":r=>e.PRICE=r,name:"price"},null,8,he),[[s.Jo,e.PRICE]]),(0,o.bo)((0,o.Lk)("input",{type:"hidden","onUpdate:modelValue":r=>e.COURIER=r,name:"courier"},null,8,pe),[[s.Jo,e.COURIER]]),r[12]||(r[12]=(0,o.Lk)("button",{type:"submit"},"Select",-1))],40,ue)])]))),128))])])])])):(0,o.Q3)("",!0)],64)}var _e={data(){return{orderNumber:"",senderCode:"",senderCity:"",senderProvince:"",senderCountry:"",receiverCode:"",receiverCity:"",receiverProvince:"",receiverCountry:"",weight:"",length:"",width:"",height:"",volume:0,minPrice:0,minPriceText:"",courierSelected:!1,listCouries:[],courier:"",price:0,userID:null,shipment:{},codesFound:[],codesFoundSender:[],codesFoundReceiver:[],selectedCodeSender:"",selectedCodeReceiver:"",errors:{}}},methods:{validateInput(){const e={};return this.senderCode||(e.senderCode="The Sender Zip Code is required!"),this.receiverCode||(e.receiverCode="The Receiver Zip Code is required!"),this.weight||(e.weight="The Weight is required!"),this.length||(e.length="The Length is required!"),this.width||(e.width="The Width is required!"),this.height||(e.height="The Height is required!"),e},reverseZipCodes(){const e=this.selectedCodeSender,r=this.selectedCodeReceiver;this.selectedCodeSender=r,this.selectedCodeReceiver=e;const t=this.senderCode,s=this.receiverCode;this.senderCode=s,this.receiverCode=t},async zipCodeUpdate(e,r,t,s){console.log(e,r,t,s),"sender"==e?(this.senderCode=r,this.codesFoundSender=[],this.selectedCodeSender=t+" ("+s+")",this.senderCity=t,this.senderProvince=s,this.senderCountry="ITALIA"):(this.receiverCode=r,this.codesFoundReceiver=[],this.selectedCodeReceiver=t+" ("+s+")",this.receiverCity=t,this.receiverProvince=s,this.receiverCountry="ITALIA")},async filterByCode(e){console.log("this.codesFound 1",this.codesFound),this.codesFound=[],this.codesFoundSender=[],this.codesFoundReceiver=[];const r="sender"==e?this.senderCode.length:this.receiverCode.length;if(r>2){const r={code:"sender"==e?this.senderCode:this.receiverCode};this.codesFound=await g.A.post("/cites-by-code",r),this.codesFound.data&&this.codesFound.data.length>0?(console.log("codesFound.data",this.codesFound.data),this.codesFound=this.codesFound.data):(this.codesFound=["Nothing found!"],console.log("codesFound.data","Nothing found!"))}else 0==r?this.codesFound=[]:(this.codesFound=["Loading..."],console.log("codesFound.data","Loading..."));console.log("this.codesFound 2",this.codesFound),"sender"==e?this.codesFoundSender=this.codesFound:"receiver"==e&&(this.codesFoundReceiver=this.codesFound),console.log("this.codesFound 3",this.codesFound)},async getMinPrice(){if(0==this.minPrice){const e=await g.A.post("/get-prices",{WEIGHT:this.weight,VOLUME:this.length*this.width*this.height/5e3});console.log(e),e.data.length>0?(console.log(e.data),this.listCouries=e.data,this.minPriceText=" From $ "+e.data[0].PRICE,this.minPrice=e.data[0].PRICE,this.volume=this.length*this.width*this.height/5e3):(console.log(e.data),this.listCouries=[],this.minPriceText="ment Price Not Available!",this.minPrice=0,this.volume=0)}else this.minPrice>0&&this.courierSelected?console.log("go to addShipment"):this.minPrice>0?(this.courierSelected=!0,console.log("go to listCouriers")):(this.courierSelected=!1,console.log("Price not found!"))},async addShipment(e,r){this.price=e,this.courier=r;const t=this.validateInput(),s=(new Date).setDate((new Date).getMinutes());if(Object.keys(t).length>0)this.errors=t;else try{if(localStorage.getItem("token"))if(s>localStorage.getItem("tokenExpireAt"))localStorage.removeItem("token"),localStorage.removeItem("tokenExpireAt"),this.$router.push("/login");else{const e=await g.A.get("https://arsil-backend-anzxy.sevalla.app/api/user",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});this.userID=e.data.id,console.log("userID",this.userID)}const e=await g.A.post("/insert-shipment",{ORDER_NUMBER:Math.floor(9e9*Math.random())+1e9,SENDER_CODE:this.senderCode,SENDER_CITY:this.senderCity,SENDER_PROVINCE:this.senderProvince,SENDER_COUNTRY:this.senderCountry,RECEIVER_CODE:this.receiverCode,RECEIVER_CITY:this.receiverCity,RECEIVER_PROVINCE:this.receiverProvince,RECEIVER_COUNTRY:this.receiverCountry,DETAILS:JSON.stringify({weight:this.weight,length:this.length,width:this.width,height:this.height,volume:this.volume}),PRICE:this.price,COURIER:this.courier,ID_USER:this.userID});e?(console.log(e.data),this.shipment={ORDER_NUMBER:e.data.ORDER_NUMBER,SENDER_CODE:e.data.SENDER_CODE,RECEIVER_CODE:e.data.RECEIVER_CODE,weight:this.weight,length:this.length,width:this.width,height:this.height,volume:this.volume,PRICE:e.data.PRICE,COURIER:e.data.COURIER,ID_USER:e.data.ID_USER},this.userID?(console.log(e.data.ORDER_NUMBER),console.log(e.data.SENDER_CODE),console.log(e.data.RECEIVER_CODE),console.log(this.weight),console.log(this.length),console.log(this.width),console.log(this.height),console.log(this.volume),console.log(e.data.PRICE),console.log(e.data.COURIER),console.log(e.data.ID_USER),console.log("push to checkout 1"),this.$router.push({name:"Checkout",params:{orderNumberPrice:e.data.ORDER_NUMBER+"_"+e.data.PRICE.toString().replace(".","")+"_"+this.userID}})):(console.log(e.data.ORDER_NUMBER),console.log(e.data.SENDER_CODE),console.log(e.data.RECEIVER_CODE),console.log(this.weight),console.log(this.length),console.log(this.width),console.log(this.height),console.log(this.volume),console.log(e.data.PRICE),console.log(e.data.COURIER),console.log(e.data.ID_USER),console.log("push to checkout 2"),this.$router.push({name:"Checkout",params:{orderNumberPrice:e.data.ORDER_NUMBER+"_"+e.data.PRICE.toString().replace(".","")+"_0"}}))):console.error("An error occurred before the insert shipment")}catch(o){console.error("An error occurred during the insert shipment: ",o)}}}};const ve=(0,c.A)(_e,[["render",me]]);var ke=ve;const Ee={class:"container"},ge={class:"row"},Ce={key:0,class:"col-md-4"},Le={class:"well"},be={class:"order-number"},Se={class:"sender-code"},Re={class:"receiver-code"},ye={class:"price"},Ie={class:"courier"},Ne={class:"created-at"},fe={key:1,class:"col-md-4"};function we(e,r,t,s,i,n){const a=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)(o.FK,null,[r[1]||(r[1]=(0,o.Lk)("h1",null,"My Shipments",-1)),(0,o.Lk)("div",Ee,[(0,o.Lk)("div",ge,[i.userShipments.length>0?((0,o.uX)(),(0,o.CE)("div",Ce,[r[0]||(r[0]=(0,o.Fv)('<ul class="well titles"><li><span class="order-number">#</span><span class="sender-code">SENDER</span><span class="receiver-code">RECEIVER</span><span class="price">PRICE</span><span class="courier">COURIER</span><span class="created-at">Created At</span></li></ul>',1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.userShipments,e=>((0,o.uX)(),(0,o.CE)("ul",Le,[(0,o.Lk)("li",null,[(0,o.Lk)("span",be,[(0,o.bF)(a,{to:{name:"ShipmentDetails",params:{orderNumber:e.ORDER_NUMBER}}},{default:(0,o.k6)(()=>[(0,o.eW)((0,O.v_)(e.ORDER_NUMBER),1)]),_:2},1032,["to"])]),(0,o.Lk)("span",Se,(0,O.v_)(e.SENDER_CODE),1),(0,o.Lk)("span",Re,(0,O.v_)(e.RECEIVER_CODE),1),(0,o.Lk)("span",ye,(0,O.v_)(e.PRICE),1),(0,o.Lk)("span",Ie,(0,O.v_)(e.COURIER),1),(0,o.Lk)("span",Ne,(0,O.v_)(e.created_at.split("T")[0]),1)])]))),256))])):(0,o.Q3)("",!0),i.userShipments.length<1?((0,o.uX)(),(0,o.CE)("div",fe,"No Data Found!")):(0,o.Q3)("",!0)])])],64)}var Pe={computed:{...(0,l.aH)(["isLoggedIn"])},mounted(){this.listShipments()},data(){return{userID:"",userShipments:{}}},methods:{...(0,l.i0)(["logout"]),async listShipments(){console.log("START listShipments method function myShipments.vue Componenet");try{if(localStorage.getItem("token")){console.log("IF localStorage.getItem(token)");const e=await g.A.get("https://arsil-backend-anzxy.sevalla.app/api/user",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(e){console.log("IF user"),this.userID=e.data.id;const r={ID_USER:this.userID},t={Authorization:`Bearer ${localStorage.getItem("token")}`};this.userShipments=await g.A.post("/shipments-by-user",r,{headers:t}),this.userShipments=this.userShipments.data,console.log(this.userID,this.userShipments)}else{console.log("ELSE user");const e={Authorization:`Bearer ${localStorage.getItem("token")}`},r=await g.A.post("/logout-user",{},{headers:e});console.log("message logged out",r)}}else console.log("ELSE localStorage.getItem(token)"),this.$router.push({name:"Login"})}catch(e){console.log("error catch listShipments",e),console.log("catch logout-user by token",localStorage.getItem("token"));const r={Authorization:`Bearer ${localStorage.getItem("token")}`},t=await g.A.post("/logout-user",{},{headers:r});console.log("message logged out",t),t&&t.data.deleted_tokens>0&&t.data.deleted_tokens_user_id>0?(this.$store.commit("LOGOUT"),localStorage.removeItem("tokenExpireAt"),localStorage.removeItem("token"),this.$router.push({name:"Login"})):(console.log("unknown error catch listShipments"),this.$router.push({name:"Login"}))}console.error("END listShipments method function myShipments.vue Componenet")}}};const De=(0,c.A)(Pe,[["render",we]]);var Oe=De;const Ae={class:"container"},Te={class:"row"},Ue={class:"col-md-4 group"},qe={class:"section"},Ve={class:"order-number"},Fe={class:"price"},xe={class:"courier"},Xe={class:"created-at"},$e={class:"section"},Me={class:"sender-name"},We={class:"sender-street-name"},Be={class:"sender-street-number"},Qe={class:"sender-code"},Je={class:"sender-code"},ze={class:"sender-code"},Ke={class:"sender-code"},Ye={class:"sender-phone"},je={class:"sender-email"},He={class:"section"},Ze={class:"receiver-name"},Ge={class:"receiver-street-name"},er={class:"receiver-street-number"},rr={class:"receiver-code"},tr={class:"receiver-code"},sr={class:"receiver-code"},or={class:"receiver-code"},ir={class:"receiver-phone"},nr={class:"receiver-email"};function ar(e,r,t,s,i,n){return(0,o.uX)(),(0,o.CE)(o.FK,null,[r[47]||(r[47]=(0,o.Lk)("h1",null,"Shipment Details",-1)),(0,o.Lk)("div",Ae,[(0,o.Lk)("div",Te,[(0,o.Lk)("div",Ue,[(0,o.Lk)("div",qe,[r[8]||(r[8]=(0,o.Lk)("h3",null,"Order Details",-1)),(0,o.Lk)("span",Ve,[r[0]||(r[0]=(0,o.Lk)("u",null,"ORDER NUMBER:",-1)),r[1]||(r[1]=(0,o.eW)()),(0,o.Lk)("b",null,(0,O.v_)(this.$route.params.orderNumber),1)]),(0,o.Lk)("span",Fe,[r[2]||(r[2]=(0,o.Lk)("u",null,"PRICE:",-1)),r[3]||(r[3]=(0,o.eW)()),(0,o.Lk)("b",null,(0,O.v_)(this.price),1)]),(0,o.Lk)("span",xe,[r[4]||(r[4]=(0,o.Lk)("u",null,"COURIER:",-1)),r[5]||(r[5]=(0,o.eW)()),(0,o.Lk)("b",null,(0,O.v_)(this.courier),1)]),(0,o.Lk)("span",Xe,[r[6]||(r[6]=(0,o.Lk)("u",null,"Created At:",-1)),r[7]||(r[7]=(0,o.eW)()),(0,o.Lk)("b",null,(0,O.v_)(this.createdAt.split(".")[0]),1)])]),(0,o.Lk)("div",$e,[r[27]||(r[27]=(0,o.Lk)("h3",null,"Sender Details",-1)),(0,o.Lk)("span",Me,[r[9]||(r[9]=(0,o.Lk)("u",null,"SENDER NAME:",-1)),r[10]||(r[10]=(0,o.eW)()),(0,o.Lk)("b",null,(0,O.v_)(this.contact_details.senderName),1)]),(0,o.Lk)("span",We,[r[11]||(r[11]=(0,o.Lk)("u",null,"SENDER STREET NAME:",-1)),r[12]||(r[12]=(0,o.eW)()),(0,o.Lk)("b",null,(0,O.v_)(this.contact_details.senderStreetName),1)]),(0,o.Lk)("span",Be,[r[13]||(r[13]=(0,o.Lk)("u",null,"SENDER STREET NUMBER:",-1)),r[14]||(r[14]=(0,o.eW)()),(0,o.Lk)("b",null,(0,O.v_)(this.contact_details.senderStreetNumber),1)]),(0,o.Lk)("span",Qe,[r[15]||(r[15]=(0,o.Lk)("u",null,"SENDER CODE:",-1)),r[16]||(r[16]=(0,o.eW)()),(0,o.Lk)("b",null,(0,O.v_)(this.senderCode),1)]),(0,o.Lk)("span",Je,[r[17]||(r[17]=(0,o.Lk)("u",null,"SENDER CITY:",-1)),r[18]||(r[18]=(0,o.eW)()),(0,o.Lk)("b",null,(0,O.v_)(this.senderCity),1)]),(0,o.Lk)("span",ze,[r[19]||(r[19]=(0,o.Lk)("u",null,"SENDER PROVINCE:",-1)),r[20]||(r[20]=(0,o.eW)()),(0,o.Lk)("b",null,(0,O.v_)(this.senderProvince),1)]),(0,o.Lk)("span",Ke,[r[21]||(r[21]=(0,o.Lk)("u",null,"SENDER COUNTRY:",-1)),r[22]||(r[22]=(0,o.eW)()),(0,o.Lk)("b",null,(0,O.v_)(this.senderCountry),1)]),(0,o.Lk)("span",Ye,[r[23]||(r[23]=(0,o.Lk)("u",null,"SENDER PHONE:",-1)),r[24]||(r[24]=(0,o.eW)()),(0,o.Lk)("b",null,(0,O.v_)(this.contact_details.senderPhone),1)]),(0,o.Lk)("span",je,[r[25]||(r[25]=(0,o.Lk)("u",null,"SENDER EMAIL:",-1)),r[26]||(r[26]=(0,o.eW)()),(0,o.Lk)("b",null,(0,O.v_)(this.contact_details.senderEmail),1)])]),(0,o.Lk)("div",He,[r[46]||(r[46]=(0,o.Lk)("h3",null,"Receiver Details",-1)),(0,o.Lk)("span",Ze,[r[28]||(r[28]=(0,o.Lk)("u",null,"RECEIVER NAME:",-1)),r[29]||(r[29]=(0,o.eW)()),(0,o.Lk)("b",null,(0,O.v_)(this.contact_details.receiverName),1)]),(0,o.Lk)("span",Ge,[r[30]||(r[30]=(0,o.Lk)("u",null,"RECEIVER STREET NAME:",-1)),r[31]||(r[31]=(0,o.eW)()),(0,o.Lk)("b",null,(0,O.v_)(this.contact_details.receiverStreetName),1)]),(0,o.Lk)("span",er,[r[32]||(r[32]=(0,o.Lk)("u",null,"RECEIVER STREET NUMBER:",-1)),r[33]||(r[33]=(0,o.eW)()),(0,o.Lk)("b",null,(0,O.v_)(this.contact_details.receiverStreetNumber),1)]),(0,o.Lk)("span",rr,[r[34]||(r[34]=(0,o.Lk)("u",null,"RECEIVER CODE:",-1)),r[35]||(r[35]=(0,o.eW)()),(0,o.Lk)("b",null,(0,O.v_)(this.receiverCode),1)]),(0,o.Lk)("span",tr,[r[36]||(r[36]=(0,o.Lk)("u",null,"RECEIVER CITY:",-1)),r[37]||(r[37]=(0,o.eW)()),(0,o.Lk)("b",null,(0,O.v_)(this.receiverCity),1)]),(0,o.Lk)("span",sr,[r[38]||(r[38]=(0,o.Lk)("u",null,"RECEIVER PROVINCE:",-1)),r[39]||(r[39]=(0,o.eW)()),(0,o.Lk)("b",null,(0,O.v_)(this.receiverProvince),1)]),(0,o.Lk)("span",or,[r[40]||(r[40]=(0,o.Lk)("u",null,"RECEIVER COUNTRY:",-1)),r[41]||(r[41]=(0,o.eW)()),(0,o.Lk)("b",null,(0,O.v_)(this.receiverCountry),1)]),(0,o.Lk)("span",ir,[r[42]||(r[42]=(0,o.Lk)("u",null,"RECEIVER PHONE:",-1)),r[43]||(r[43]=(0,o.eW)()),(0,o.Lk)("b",null,(0,O.v_)(this.contact_details.receiverPhone),1)]),(0,o.Lk)("span",nr,[r[44]||(r[44]=(0,o.Lk)("u",null,"RECEIVER EMAIL:",-1)),r[45]||(r[45]=(0,o.eW)()),(0,o.Lk)("b",null,(0,O.v_)(this.contact_details.receiverEmail),1)])])])])])],64)}(0,v.lq)();var lr={mounted(){this.getShipment()},data(){return{senderCode:"",senderCity:"",sendererProvince:"",senderCountry:"",receiverCode:"",receiverCity:"",receiverProvince:"",receiverCountry:"",contact_details:{},price:null,courier:"",createdAt:""}},methods:{async getShipment(){const e=await g.A.get("https://arsil-backend-anzxy.sevalla.app/api/user",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),r={orderNumber:this.$route.params.orderNumber,userID:e.data.id},t={Authorization:`Bearer ${localStorage.getItem("token")}`},s=await g.A.post("/get-shipment-user",r,{headers:t});console.log(s.data),this.price=s.data[0].PRICE,this.courier=s.data[0].COURIER,this.createdAt=s.data[0].created_at,this.senderCode=s.data[0].SENDER_CODE,this.receiverCode=s.data[0].RECEIVER_CODE,this.senderCity=s.data[0].SENDER_CITY,this.senderProvince=s.data[0].SENDER_PROVINCE,this.senderCountry=s.data[0].SENDER_COUNTRY,this.receiverCity=s.data[0].RECEIVER_CITY,this.receiverProvince=s.data[0].RECEIVER_PROVINCE,this.receiverCountry=s.data[0].RECEIVER_COUNTRY,this.contact_details=JSON.parse(s.data[0].CONTACT_DETAILS)}}};const dr=(0,c.A)(lr,[["render",ar]]);var cr=dr;const ur={class:"form-container"},hr={class:"contact-details"},pr={class:"save-as"},mr={key:0,class:"errors"},_r={key:1,class:"errors"},vr={key:2,class:"errors"},kr={key:3,class:"errors"},Er={key:4,class:"errors"},gr={class:"save-as"},Cr={key:0,class:"errors"},Lr={key:1,class:"errors"},br={key:2,class:"errors"},Sr={key:3,class:"errors"},Rr={key:4,class:"errors"},yr=["disabled"];function Ir(e,r,t,i,n,a){return(0,o.uX)(),(0,o.CE)(o.FK,null,[r[18]||(r[18]=(0,o.Lk)("h1",null,"Checkout",-1)),r[19]||(r[19]=(0,o.Lk)("div",{class:"container"},[(0,o.Lk)("div",{class:"row"},[(0,o.Lk)("div",{class:"col-md-4"})])],-1)),(0,o.Lk)("div",ur,[r[17]||(r[17]=(0,o.Lk)("h2",null,"Please give us your contacts details",-1)),(0,o.Lk)("form",{onSubmit:r[12]||(r[12]=(0,s.D$)((...e)=>a.getStripe&&a.getStripe(...e),["prevent"])),class:"stripe"},[(0,o.Lk)("div",hr,[(0,o.Lk)("fieldset",null,[r[14]||(r[14]=(0,o.Lk)("h3",null,"Sender's Details:",-1)),(0,o.Lk)("div",pr,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox",name:"saveAsSender","onUpdate:modelValue":r[0]||(r[0]=e=>n.senderSave=e)},null,512),[[s.lH,n.senderSave]]),r[13]||(r[13]=(0,o.Lk)("label",{for:"saveAsSender"},"Remember Sender's Details!",-1))]),(0,o.bo)((0,o.Lk)("input",{class:"input-field",type:"text","onUpdate:modelValue":r[1]||(r[1]=e=>n.senderName=e),placeholder:"Sender Name",required:""},null,512),[[s.Jo,n.senderName]]),n.errors.senderName?((0,o.uX)(),(0,o.CE)("p",mr,(0,O.v_)(n.errors.senderName),1)):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{class:"input-field",type:"text","onUpdate:modelValue":r[2]||(r[2]=e=>n.senderStreetName=e),placeholder:"Sender Street Name",required:""},null,512),[[s.Jo,n.senderStreetName]]),n.errors.senderStreetName?((0,o.uX)(),(0,o.CE)("p",_r,(0,O.v_)(n.errors.senderStreetName),1)):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{class:"input-field",type:"text","onUpdate:modelValue":r[3]||(r[3]=e=>n.senderStreetNumber=e),placeholder:"Sender Street Number",required:""},null,512),[[s.Jo,n.senderStreetNumber]]),n.errors.senderStreetNumber?((0,o.uX)(),(0,o.CE)("p",vr,(0,O.v_)(n.errors.senderStreetNumber),1)):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{class:"input-field",type:"text","onUpdate:modelValue":r[4]||(r[4]=e=>n.senderPhone=e),placeholder:"Sender Phone",required:""},null,512),[[s.Jo,n.senderPhone]]),n.errors.senderPhone?((0,o.uX)(),(0,o.CE)("p",kr,(0,O.v_)(n.errors.senderPhone),1)):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{class:"input-field",type:"text","onUpdate:modelValue":r[5]||(r[5]=e=>n.senderEmail=e),placeholder:"Sender Email",required:""},null,512),[[s.Jo,n.senderEmail]]),n.errors.senderEmail?((0,o.uX)(),(0,o.CE)("p",Er,(0,O.v_)(n.errors.senderEmail),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("fieldset",null,[r[16]||(r[16]=(0,o.Lk)("h3",null,"Receiver's Details:",-1)),(0,o.Lk)("div",gr,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox",name:"saveAsReceiver","onUpdate:modelValue":r[6]||(r[6]=e=>n.receiverSave=e)},null,512),[[s.lH,n.receiverSave]]),r[15]||(r[15]=(0,o.Lk)("label",{for:"saveAsReceiver"},"Remember Receiver's Details!",-1))]),(0,o.bo)((0,o.Lk)("input",{class:"input-field",type:"text","onUpdate:modelValue":r[7]||(r[7]=e=>n.receiverName=e),placeholder:"Receiver Name",required:""},null,512),[[s.Jo,n.receiverName]]),n.errors.receiverName?((0,o.uX)(),(0,o.CE)("p",Cr,(0,O.v_)(n.errors.receiverName),1)):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{class:"input-field",type:"text","onUpdate:modelValue":r[8]||(r[8]=e=>n.receiverStreetName=e),placeholder:"Receiver Street Name",required:""},null,512),[[s.Jo,n.receiverStreetName]]),n.errors.receiverStreetName?((0,o.uX)(),(0,o.CE)("p",Lr,(0,O.v_)(n.errors.receiverStreetName),1)):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{class:"input-field",type:"text","onUpdate:modelValue":r[9]||(r[9]=e=>n.receiverStreetNumber=e),placeholder:"Receiver Street Number",required:""},null,512),[[s.Jo,n.receiverStreetNumber]]),n.errors.receiverStreetNumber?((0,o.uX)(),(0,o.CE)("p",br,(0,O.v_)(n.errors.receiverStreetNumber),1)):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{class:"input-field",type:"text","onUpdate:modelValue":r[10]||(r[10]=e=>n.receiverPhone=e),placeholder:"Receiver Phone",required:""},null,512),[[s.Jo,n.receiverPhone]]),n.errors.receiverPhone?((0,o.uX)(),(0,o.CE)("p",Sr,(0,O.v_)(n.errors.receiverPhone),1)):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{class:"input-field",type:"text","onUpdate:modelValue":r[11]||(r[11]=e=>n.receiverEmail=e),placeholder:"Receiver Email",required:""},null,512),[[s.Jo,n.receiverEmail]]),n.errors.receiverEmail?((0,o.uX)(),(0,o.CE)("p",Rr,(0,O.v_)(n.errors.receiverEmail),1)):(0,o.Q3)("",!0)])]),(0,o.Lk)("button",{class:"pay-with-stripe",type:"submit",disabled:n.isDisabled}," Pay $"+(0,O.v_)(e.$route.params.orderNumberPrice.split("_")[1].substring(0,e.$route.params.orderNumberPrice.split("_")[1].length-2)+","+e.$route.params.orderNumberPrice.split("_")[1].substring(e.$route.params.orderNumberPrice.split("_")[1].length-2)),9,yr)],32)])],64)}var Nr=t(6347);t(1469);(0,v.lq)();var fr={mounted(){},data(){return{userID:"",shipmentToPay:{},checkoutStart:!1,orderPayed:!1,orderNumberPriceVar:this.$route.params.orderNumberPrice,senderSave:!1,receiverSave:!1,senderName:"",senderStreetName:"",senderStreetNumber:"",senderPhone:"",senderEmail:"",receiverName:"",receiverStreetName:"",receiverStreetNumber:"",receiverPhone:"",receiverEmail:"",isDisabled:!1,errors:{}}},methods:{validateInput(){const e={};return this.senderName||(e.senderName="The Sender Name is required!"),this.senderStreetName||(e.senderStreetName="The Sender Street Name is required!"),this.senderStreetNumber||(e.senderStreetNumber="The Sender Street Number is required!"),this.senderPhone||(e.senderPhone="The Sender Phone is required!"),this.senderEmail||(e.senderEmail="The Sender Email is required!"),this.receiverName||(e.receiverName="The Receiver Name is required!"),this.receiverStreetName||(e.receiverStreetName="The Receiver Street Name is required!"),this.receiverStreetNumber||(e.receiverStreetNumber="The Receiver Street Number is required!"),this.receiverPhone||(e.receiverPhone="The Receiver Phone is required!"),this.receiverEmail||(e.receiverEmail="The Receiver Email is required!"),this.errors=e,console.log("errors",e),e},async getStripe(){console.log("this.errors",this.errors);const e=this.validateInput();if("{}"!=JSON.stringify(e))return!1;{const e=this.orderNumberPriceVar,o=await g.A.post("/update-contacts",{orderNumber:e,senderSave:this.senderSave,receiverSave:this.senderSave,CONTACT_DETAILS:JSON.stringify({senderName:this.senderName,senderStreetName:this.senderStreetName,senderStreetNumber:this.senderStreetNumber,senderPhone:this.senderPhone,senderEmail:this.senderEmail,receiverName:this.receiverName,receiverStreetName:this.receiverStreetName,receiverStreetNumber:this.receiverStreetNumber,receiverPhone:this.receiverPhone,receiverEmail:this.receiverEmail})});if(!o)return!1;{console.log("orderNumberPriceParam",e);const o=await g.A.post("/create-checkout",{orderNumber:e});if(console.log(o.data),o){var r=null,t=!1;console.log("START TEST");try{console.log("response.checkout_session.id",o.data.checkout_session.id),r=(0,Nr.c)("pk_test_51QzlmjDxX0TtHUyvZPU3cnVwnfMmvlZRvgYYjlksUvk5LYxCmlg4ZQ66o41Ot5LCDHTzKEnGGGhm5dLu2uEet6oV00rY3NtVZL"),t=!0,await r.then(e=>{e.redirectToCheckout({sessionId:o.data.checkout_session.id}).then(function(e){console.log("result",e)}).catch(function(e){console.error("error",e)})})}catch(s){t=!1,console.error("err",s)}finally{0}console.log("stripe_running",t),console.log("END TEST")}}}}}};const wr=(0,c.A)(fr,[["render",Ir]]);var Pr=wr;const Dr={key:0,class:"container"},Or={class:"row"},Ar={class:"col-md-4"},Tr={class:"form-container"},Ur={key:0},qr={key:1,class:"container"};function Vr(e,r,t,s,i,n){return(0,o.uX)(),(0,o.CE)(o.FK,null,[this.$route.params.session_id.length>5?((0,o.uX)(),(0,o.CE)("div",Dr,[r[4]||(r[4]=(0,o.Lk)("h1",null,"Payed Successfully!",-1)),(0,o.Lk)("div",Or,[(0,o.Lk)("div",Ar,[(0,o.Lk)("div",Tr,[(0,o.Lk)("h2",null,[r[1]||(r[1]=(0,o.eW)(" Thank you for useing our srvices! ",-1)),r[2]||(r[2]=(0,o.Lk)("br",null,null,-1)),(0,o.eW)(" Your Order Number: "+(0,O.v_)(this.$route.params.orderNumber)+" ",1),r[3]||(r[3]=(0,o.Lk)("br",null,null,-1)),i.userId>0?((0,o.uX)(),(0,o.CE)("span",Ur,[(0,o.eW)("Redirection after "+(0,O.v_)(i.timerCount)+" seconds to ",1),r[0]||(r[0]=(0,o.Lk)("a",{href:"https://backendarsil-09sxs.sevalla.page/#/my-shipments"},"My Shipments",-1))])):(0,o.Q3)("",!0)])])])])])):(0,o.Q3)("",!0),this.$route.params.session_id.length<5?((0,o.uX)(),(0,o.CE)("div",qr,[...r[5]||(r[5]=[(0,o.Lk)("h1",null,"Payed Unsuccessfully!",-1),(0,o.Lk)("div",{class:"row"},[(0,o.Lk)("div",{class:"col-md-4"},[(0,o.Lk)("div",{class:"form-container"},[(0,o.Lk)("h2",null,"An error has occured during the payment process! Please try later!")])])],-1)])])):(0,o.Q3)("",!0)],64)}var Fr=t(9753);const xr=(0,c.A)(Fr.A,[["render",Vr]]);var Xr=xr;const $r=[{name:"Login",path:"/Login",component:b,meta:{public:!0}},{name:"Logout",path:"/logout",component:I,meta:{public:!0}},{name:"Register",path:"/Register",component:D,meta:{public:!0}},{name:"AddShipment",path:"/add-shipment",component:ke,meta:{public:!0}},{name:"myShipments",path:"/my-shipments",component:Oe,meta:{public:!1}},{name:"ShipmentDetails",path:"/shipment-details/:orderNumber",component:cr,meta:{public:!1},props:!0},{name:"Home",path:"/",component:ke,meta:{public:!0}},{name:"Checkout",path:"/checkout/:orderNumberPrice",component:Pr,meta:{public:!0},props:!0},{name:"CheckoutReturn",path:"/checkout-return/:session_id/:orderNumber/:userId",component:Xr,meta:{public:!0},props:!0}],Mr=(0,v.aE)({history:(0,v.Bt)(),routes:$r});var Wr=Mr,Br=t(4335),Qr=(0,l.y$)({state:{isLoggedIn:!!localStorage.getItem("token")},mutations:{LOGIN(e){e.isLoggedIn=!0,e.inRegister=!1},LOGOUT(e){e.isLoggedIn=!1,e.inRegister=!0}},actions:{login({commit:e}){e("LOGIN")},async logout({commit:e,dispatch:r}){try{const e=await Br.A.get("https://arsil-backend-anzxy.sevalla.app/api/user",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),r={user:e},t={Authorization:`Bearer ${localStorage.getItem("token")}`},s=await Br.A.post("https://arsil-backend-anzxy.sevalla.app/api/logout",r,{headers:t});console.log(s)}catch(t){console.error("An error occurred during the logout: ",t)}e("LOGOUT"),localStorage.removeItem("token"),localStorage.removeItem("tokenExpireAt"),r("navigateToLogin")},navigateToLogin(){Wr.push({name:"Login"})}}});const Jr=(0,s.Ef)(_);Jr.use(Qr),Jr.use(Wr),Jr.mount("#app")},3173:function(e,r,t){var s=t(4335);const o=s.A.create({baseURL:"https://arsil-backend-anzxy.sevalla.app/api"});r.A=o},9753:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4114),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__),_axios__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3173),vue_router__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5220);const route=(0,vue_router__WEBPACK_IMPORTED_MODULE_2__.lq)();__webpack_exports__.A={mounted(){this.$route.params.session_id&&this.checkPayment()},data(){return{sessionId:this.$route.params.session_id,payedOrderNumber:this.$route.params.orderNumber,userId:this.$route.params.userId,timerCount:8}},watch:{timerCount:{handler(e){e>0&&setTimeout(()=>{this.timerCount--},1e3)},immediate:!0}},methods:{async checkPayment(){const payedSessionId=this.sessionId;if(payedSessionId.length>5){console.log("payedSessionId",payedSessionId);const e=await _axios__WEBPACK_IMPORTED_MODULE_1__.A.post("/shipment-payed",{orderNumber:this.payedOrderNumber,payedSessionId:payedSessionId});console.log(e.data)}eval(this.$route.params.userId)>0&&(setTimeout(()=>{this.$router.push({name:"myShipments",params:{userID:this.$route.params.userId}})},8e3),console.log("this.route.params.orderNumber",this.$route.params.orderNumber),console.log("this.route.params.session_id",this.$route.params.session_id),console.log("this.route.params.userId",this.$route.params.userId))}}}}},__webpack_module_cache__={};function __webpack_require__(e){var r=__webpack_module_cache__[e];if(void 0!==r)return r.exports;var t=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(t.exports,t,t.exports,__webpack_require__),t.exports}__webpack_require__.m=__webpack_modules__,function(){var e=[];__webpack_require__.O=function(r,t,s,o){if(!t){var i=1/0;for(d=0;d<e.length;d++){t=e[d][0],s=e[d][1],o=e[d][2];for(var n=!0,a=0;a<t.length;a++)(!1&o||i>=o)&&Object.keys(__webpack_require__.O).every(function(e){return __webpack_require__.O[e](t[a])})?t.splice(a--,1):(n=!1,o<i&&(i=o));if(n){e.splice(d--,1);var l=s();void 0!==l&&(r=l)}}return r}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[t,s,o]}}(),function(){__webpack_require__.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return __webpack_require__.d(r,{a:r}),r}}(),function(){__webpack_require__.d=function(e,r){for(var t in r)__webpack_require__.o(r,t)&&!__webpack_require__.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}}(),function(){__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){__webpack_require__.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)}}(),function(){__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};__webpack_require__.O.j=function(r){return 0===e[r]};var r=function(r,t){var s,o,i=t[0],n=t[1],a=t[2],l=0;if(i.some(function(r){return 0!==e[r]})){for(s in n)__webpack_require__.o(n,s)&&(__webpack_require__.m[s]=n[s]);if(a)var d=a(__webpack_require__)}for(r&&r(t);l<i.length;l++)o=i[l],__webpack_require__.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return __webpack_require__.O(d)},t=self["webpackChunkfrontend_app"]=self["webpackChunkfrontend_app"]||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))}();var __webpack_exports__=__webpack_require__.O(void 0,[504],function(){return __webpack_require__(1563)});__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();
//# sourceMappingURL=app.0bf9b0a9.js.map